function notifyLiveReload(e){var i=require("path").relative(__dirname,e.path);tinylr.changed({body:{files:[i]}})}var gulp=require("gulp"),sass=require("gulp-sass"),autoprefixer=require("gulp-autoprefixer"),minifycss=require("gulp-minify-css"),rename=require("gulp-rename"),uglify=require("gulp-uglify"),plumber=require("gulp-plumber"),size=require("gulp-size"),gzip=require("gulp-gzip"),notify=require("gulp-notify");gulp.task("express",function(){var e=require("express"),i=e();i.use(require("connect-livereload")({port:4002})),i.use(e["static"](__dirname)),i.listen(4e3)});var tinylr;gulp.task("livereload",function(){tinylr=require("tiny-lr")(),tinylr.listen(4002)}),gulp.task("compress",function(){gulp.src("js/*.js").pipe(uglify()).pipe(gulp.dest("js/min/")).pipe(notify("JS minified"))}),gulp.task("styles",function(){return gulp.src("scss/harpy.scss").pipe(sass({style:"expanded"})).pipe(autoprefixer("last 2 version","safari 5","ie 8","ie 9","opera 12.1")).pipe(gulp.dest("css")).pipe(rename({suffix:".min"})).pipe(gulp.dest("css")).pipe(notify("SCSS minified"))}),gulp.task("watch",function(){gulp.watch("scss/**/*.scss",["styles"]),gulp.watch("js/*.js",["compress"]),gulp.watch("*.html",notifyLiveReload),gulp.watch("css/*.css",notifyLiveReload)}),gulp.task("production",function(){return console.log("Production"),gulp.src("scss/harpy.scss").pipe(sass({style:"expanded"})).pipe(autoprefixer("last 2 version","safari 5","ie 8","ie 9","opera 12.1")).pipe(gulp.dest("css")).pipe(rename({suffix:".min"})).pipe(minifycss()).pipe(gulp.dest("css")).pipe(size({gzip:!1,showFiles:!0})).pipe(size({gzip:!0,showFiles:!0})).pipe(gzip()).pipe(gulp.dest("css")).pipe(notify("CSS is production ready"))}),gulp.task("default",["styles","express","livereload","watch"],function(){});